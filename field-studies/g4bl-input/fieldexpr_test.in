

### PHYSICS ###

physics QGSP_BIC doStochastics=0

### BEAM ###

beam gaussian particle=mu+ nEvents=1 \
    beamZ=0.0 beamX=0.0 beamY=0.0 beamXp=0.0 beamYp=0.0 \ 
    sigmaX=0.0 sigmaY=0.0 sigmaXp=0.0 sigmaYp=0.0 \ 
    meanMomentum=0.0 sigmaP=0.0 meanT=0.0 sigmaT=0.0

### REFERENCE PARTICLE ###

#reference referenceMomentum=200 particle=mu+ \
#    beamX=0.0 beamY=0.0 beamZ=0.0 beamXp=0.0 beamYp=0.0

reference referenceMomentum=200 particle=neutron \
    beamX=0.0 beamY=0.0 beamZ=0.0 beamXp=0.0 beamYp=0.0

trace nTrace=1 format=ascii oneNTuple=1

### FIELD EXPRESSION ###

param a=0.055
param k=0.00285714*pi
param phi=1.55
param b=0.069738
param Rref=400

param period=4200

fieldexpr field Bx=$a*sin($k*z+$phi)+$b \
    By=0 \
    Bz=0 \
    length=$period width=600 height=600

### SOLENOIDS ###

param sol_current=-80.46

coil coil innerRadius=420 outerRadius=600 length=300 nSheets=10 maxR=3600 maxZ=6000 dR=15 dZ=15 tolerance=0.003 

solenoid SolPos coilName=coil current=-$sol_current color=0,1,1
solenoid SolNeg coilName=coil current=$sol_current color=0,1,0

### PLACEMENT ###

place field x=0 y=0 z=$period/2

place SolPos z=0 current=-$sol_current
place SolNeg z=700 current=$sol_current
place SolPos z=1400 current=-$sol_current
place SolNeg z=2100 current=$sol_current
place SolPos z=2800 current=-$sol_current
place SolNeg z=3500 current=$sol_current

### FIELDMAP ###

fieldntuple fieldmap format=ascii x=-200,200,10 y=-200,200,10 z=0,4200,10



