=sample command (disk, polygon, and require)
=file test109.in
# sample and virtualdetector together
beam ascii file=beam
sample Sample format=ascii radius=100 coordinates=global
place Sample z=150 rotation=Y45
virtualdetector Det format=ascii kill=0 radius=100 length=0.001 coordinates=global color=0,1,0,.3
place Det z=150 front=1 rotation=Y45
box end height=1000 width=1000 length=1 color=invisible
place end z=1000
=testbeam beam -150 150 41 -150 150 41 0 -13 200
=run g4bl test109.in
=compare Sample.txt Det.txt .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1
=file test109.in
# sample without virtualdetector - force interpolation (of straight tracks)
beam ascii file=beam
sample Sample format=ascii radius=100 coordinates=global
place Sample z=150 rotation=Y45
box end height=1000 width=1000 length=1 color=invisible
place end z=1000
=run g4bl test109.in
# Det.txt from first run, should still compare OK
=compare Sample.txt Det.txt .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1
=file test109.in
beam ascii file=beam
sample Sample format=ascii radius=100 coordinates=global polygon=0,0;100,0;100,100;0,100;-100,-100;0,-100
place Sample z=150 rotation=Y45
box end height=1000 width=1000 length=1 color=invisible
place end z=1000
=run g4bl test109.in
=file test109.good
#BLTrackFile Sample/Sample
#x y z Px Py Pz t PDGid EventID TrackID ParentID Weight
#mm mm mm MeV/c MeV/c MeV/c ns - - - - -
-67.5 -97.5 217.5 0 0 200 0.820521 -13 459 1 0 1
-60 -97.5 210 0 0 200 0.792227 -13 500 1 0 1
-60 -90 210 0 0 200 0.792227 -13 501 1 0 1
-60 -82.5 210 0 0 200 0.792227 -13 502 1 0 1
-60 -75 210 0 0 200 0.792227 -13 503 1 0 1
-52.5 -97.5 202.5 0 0 200 0.763933 -13 541 1 0 1
-52.5 -90 202.5 0 0 200 0.763933 -13 542 1 0 1
-52.5 -82.5 202.5 0 0 200 0.763933 -13 543 1 0 1
-52.5 -75 202.5 0 0 200 0.763933 -13 544 1 0 1
-52.5 -67.5 202.5 0 0 200 0.763933 -13 545 1 0 1
-52.5 -60 202.5 0 0 200 0.763933 -13 546 1 0 1
-52.5 -52.5 202.5 0 0 200 0.763933 -13 547 1 0 1
-45 -97.5 195 0 0 200 0.735639 -13 582 1 0 1
-45 -90 195 0 0 200 0.735639 -13 583 1 0 1
-45 -82.5 195 0 0 200 0.735639 -13 584 1 0 1
-45 -75 195 0 0 200 0.735639 -13 585 1 0 1
-45 -67.5 195 0 0 200 0.735639 -13 586 1 0 1
-45 -60 195 0 0 200 0.735639 -13 587 1 0 1
-45 -52.5 195 0 0 200 0.735639 -13 588 1 0 1
-45 -45 195 0 0 200 0.735639 -13 589 1 0 1
-45 -37.5 195 0 0 200 0.735639 -13 590 1 0 1
-45 -30 195 0 0 200 0.735639 -13 591 1 0 1
-37.5 -97.5 187.5 0 0 200 0.707345 -13 623 1 0 1
-37.5 -90 187.5 0 0 200 0.707345 -13 624 1 0 1
-37.5 -82.5 187.5 0 0 200 0.707345 -13 625 1 0 1
-37.5 -75 187.5 0 0 200 0.707345 -13 626 1 0 1
-37.5 -67.5 187.5 0 0 200 0.707345 -13 627 1 0 1
-37.5 -60 187.5 0 0 200 0.707345 -13 628 1 0 1
-37.5 -52.5 187.5 0 0 200 0.707345 -13 629 1 0 1
-37.5 -45 187.5 0 0 200 0.707345 -13 630 1 0 1
-37.5 -37.5 187.5 0 0 200 0.707345 -13 631 1 0 1
-37.5 -30 187.5 0 0 200 0.707345 -13 632 1 0 1
-37.5 -22.5 187.5 0 0 200 0.707345 -13 633 1 0 1
-37.5 -15 187.5 0 0 200 0.707345 -13 634 1 0 1
-37.5 -7.5 187.5 0 0 200 0.707345 -13 635 1 0 1
-30 -97.5 180 0 0 200 0.679052 -13 664 1 0 1
-30 -90 180 0 0 200 0.679052 -13 665 1 0 1
-30 -82.5 180 0 0 200 0.679052 -13 666 1 0 1
-30 -75 180 0 0 200 0.679052 -13 667 1 0 1
-30 -67.5 180 0 0 200 0.679052 -13 668 1 0 1
-30 -60 180 0 0 200 0.679052 -13 669 1 0 1
-30 -52.5 180 0 0 200 0.679052 -13 670 1 0 1
-30 -45 180 0 0 200 0.679052 -13 671 1 0 1
-30 -37.5 180 0 0 200 0.679052 -13 672 1 0 1
-30 -30 180 0 0 200 0.679052 -13 673 1 0 1
-30 -22.5 180 0 0 200 0.679052 -13 674 1 0 1
-30 -15 180 0 0 200 0.679052 -13 675 1 0 1
-30 -7.5 180 0 0 200 0.679052 -13 676 1 0 1
-30 0 180 0 0 200 0.679052 -13 677 1 0 1
-30 7.5 180 0 0 200 0.679052 -13 678 1 0 1
-30 15 180 0 0 200 0.679052 -13 679 1 0 1
-22.5 -97.5 172.5 0 0 200 0.650758 -13 705 1 0 1
-22.5 -90 172.5 0 0 200 0.650758 -13 706 1 0 1
-22.5 -82.5 172.5 0 0 200 0.650758 -13 707 1 0 1
-22.5 -75 172.5 0 0 200 0.650758 -13 708 1 0 1
-22.5 -67.5 172.5 0 0 200 0.650758 -13 709 1 0 1
-22.5 -60 172.5 0 0 200 0.650758 -13 710 1 0 1
-22.5 -52.5 172.5 0 0 200 0.650758 -13 711 1 0 1
-22.5 -45 172.5 0 0 200 0.650758 -13 712 1 0 1
-22.5 -37.5 172.5 0 0 200 0.650758 -13 713 1 0 1
-22.5 -30 172.5 0 0 200 0.650758 -13 714 1 0 1
-22.5 -22.5 172.5 0 0 200 0.650758 -13 715 1 0 1
-22.5 -15 172.5 0 0 200 0.650758 -13 716 1 0 1
-22.5 -7.5 172.5 0 0 200 0.650758 -13 717 1 0 1
-22.5 0 172.5 0 0 200 0.650758 -13 718 1 0 1
-22.5 7.5 172.5 0 0 200 0.650758 -13 719 1 0 1
-22.5 15 172.5 0 0 200 0.650758 -13 720 1 0 1
-22.5 22.5 172.5 0 0 200 0.650758 -13 721 1 0 1
-22.5 30 172.5 0 0 200 0.650758 -13 722 1 0 1
-15 -97.5 165 0 0 200 0.622464 -13 746 1 0 1
-15 -90 165 0 0 200 0.622464 -13 747 1 0 1
-15 -82.5 165 0 0 200 0.622464 -13 748 1 0 1
-15 -75 165 0 0 200 0.622464 -13 749 1 0 1
-15 -67.5 165 0 0 200 0.622464 -13 750 1 0 1
-15 -60 165 0 0 200 0.622464 -13 751 1 0 1
-15 -52.5 165 0 0 200 0.622464 -13 752 1 0 1
-15 -45 165 0 0 200 0.622464 -13 753 1 0 1
-15 -37.5 165 0 0 200 0.622464 -13 754 1 0 1
-15 -30 165 0 0 200 0.622464 -13 755 1 0 1
-15 -22.5 165 0 0 200 0.622464 -13 756 1 0 1
-15 -15 165 0 0 200 0.622464 -13 757 1 0 1
-15 -7.5 165 0 0 200 0.622464 -13 758 1 0 1
-15 0 165 0 0 200 0.622464 -13 759 1 0 1
-15 7.5 165 0 0 200 0.622464 -13 760 1 0 1
-15 15 165 0 0 200 0.622464 -13 761 1 0 1
-15 22.5 165 0 0 200 0.622464 -13 762 1 0 1
-15 30 165 0 0 200 0.622464 -13 763 1 0 1
-15 37.5 165 0 0 200 0.622464 -13 764 1 0 1
-15 45 165 0 0 200 0.622464 -13 765 1 0 1
-15 52.5 165 0 0 200 0.622464 -13 766 1 0 1
-7.5 -97.5 157.5 0 0 200 0.59417 -13 787 1 0 1
-7.5 -90 157.5 0 0 200 0.59417 -13 788 1 0 1
-7.5 -82.5 157.5 0 0 200 0.59417 -13 789 1 0 1
-7.5 -75 157.5 0 0 200 0.59417 -13 790 1 0 1
-7.5 -67.5 157.5 0 0 200 0.59417 -13 791 1 0 1
-7.5 -60 157.5 0 0 200 0.59417 -13 792 1 0 1
-7.5 -52.5 157.5 0 0 200 0.59417 -13 793 1 0 1
-7.5 -45 157.5 0 0 200 0.59417 -13 794 1 0 1
-7.5 -37.5 157.5 0 0 200 0.59417 -13 795 1 0 1
-7.5 -30 157.5 0 0 200 0.59417 -13 796 1 0 1
-7.5 -22.5 157.5 0 0 200 0.59417 -13 797 1 0 1
-7.5 -15 157.5 0 0 200 0.59417 -13 798 1 0 1
-7.5 -7.5 157.5 0 0 200 0.59417 -13 799 1 0 1
-7.5 0 157.5 0 0 200 0.59417 -13 800 1 0 1
-7.5 7.5 157.5 0 0 200 0.59417 -13 801 1 0 1
-7.5 15 157.5 0 0 200 0.59417 -13 802 1 0 1
-7.5 22.5 157.5 0 0 200 0.59417 -13 803 1 0 1
-7.5 30 157.5 0 0 200 0.59417 -13 804 1 0 1
-7.5 37.5 157.5 0 0 200 0.59417 -13 805 1 0 1
-7.5 45 157.5 0 0 200 0.59417 -13 806 1 0 1
-7.5 52.5 157.5 0 0 200 0.59417 -13 807 1 0 1
-7.5 60 157.5 0 0 200 0.59417 -13 808 1 0 1
-7.5 67.5 157.5 0 0 200 0.59417 -13 809 1 0 1
-7.5 75 157.5 0 0 200 0.59417 -13 810 1 0 1
0 0 150 0 0 200 0.565876 -13 841 1 0 1
0 7.5 150 0 0 200 0.565876 -13 842 1 0 1
0 15 150 0 0 200 0.565876 -13 843 1 0 1
0 22.5 150 0 0 200 0.565876 -13 844 1 0 1
0 30 150 0 0 200 0.565876 -13 845 1 0 1
0 37.5 150 0 0 200 0.565876 -13 846 1 0 1
0 45 150 0 0 200 0.565876 -13 847 1 0 1
0 52.5 150 0 0 200 0.565876 -13 848 1 0 1
0 60 150 0 0 200 0.565876 -13 849 1 0 1
0 67.5 150 0 0 200 0.565876 -13 850 1 0 1
0 75 150 0 0 200 0.565876 -13 851 1 0 1
0 82.5 150 0 0 200 0.565876 -13 852 1 0 1
0 90 150 0 0 200 0.565876 -13 853 1 0 1
0 97.5 150 0 0 200 0.565876 -13 854 1 0 1
7.5 0 142.5 0 0 200 0.537582 -13 882 1 0 1
7.5 7.5 142.5 0 0 200 0.537582 -13 883 1 0 1
7.5 15 142.5 0 0 200 0.537582 -13 884 1 0 1
7.5 22.5 142.5 0 0 200 0.537582 -13 885 1 0 1
7.5 30 142.5 0 0 200 0.537582 -13 886 1 0 1
7.5 37.5 142.5 0 0 200 0.537582 -13 887 1 0 1
7.5 45 142.5 0 0 200 0.537582 -13 888 1 0 1
7.5 52.5 142.5 0 0 200 0.537582 -13 889 1 0 1
7.5 60 142.5 0 0 200 0.537582 -13 890 1 0 1
7.5 67.5 142.5 0 0 200 0.537582 -13 891 1 0 1
7.5 75 142.5 0 0 200 0.537582 -13 892 1 0 1
7.5 82.5 142.5 0 0 200 0.537582 -13 893 1 0 1
7.5 90 142.5 0 0 200 0.537582 -13 894 1 0 1
7.5 97.5 142.5 0 0 200 0.537582 -13 895 1 0 1
15 0 135 0 0 200 0.509289 -13 923 1 0 1
15 7.5 135 0 0 200 0.509289 -13 924 1 0 1
15 15 135 0 0 200 0.509289 -13 925 1 0 1
15 22.5 135 0 0 200 0.509289 -13 926 1 0 1
15 30 135 0 0 200 0.509289 -13 927 1 0 1
15 37.5 135 0 0 200 0.509289 -13 928 1 0 1
15 45 135 0 0 200 0.509289 -13 929 1 0 1
15 52.5 135 0 0 200 0.509289 -13 930 1 0 1
15 60 135 0 0 200 0.509289 -13 931 1 0 1
15 67.5 135 0 0 200 0.509289 -13 932 1 0 1
15 75 135 0 0 200 0.509289 -13 933 1 0 1
15 82.5 135 0 0 200 0.509289 -13 934 1 0 1
15 90 135 0 0 200 0.509289 -13 935 1 0 1
15 97.5 135 0 0 200 0.509289 -13 936 1 0 1
22.5 0 127.5 0 0 200 0.480995 -13 964 1 0 1
22.5 7.5 127.5 0 0 200 0.480995 -13 965 1 0 1
22.5 15 127.5 0 0 200 0.480995 -13 966 1 0 1
22.5 22.5 127.5 0 0 200 0.480995 -13 967 1 0 1
22.5 30 127.5 0 0 200 0.480995 -13 968 1 0 1
22.5 37.5 127.5 0 0 200 0.480995 -13 969 1 0 1
22.5 45 127.5 0 0 200 0.480995 -13 970 1 0 1
22.5 52.5 127.5 0 0 200 0.480995 -13 971 1 0 1
22.5 60 127.5 0 0 200 0.480995 -13 972 1 0 1
22.5 67.5 127.5 0 0 200 0.480995 -13 973 1 0 1
22.5 75 127.5 0 0 200 0.480995 -13 974 1 0 1
22.5 82.5 127.5 0 0 200 0.480995 -13 975 1 0 1
22.5 90 127.5 0 0 200 0.480995 -13 976 1 0 1
22.5 97.5 127.5 0 0 200 0.480995 -13 977 1 0 1
30 0 120 0 0 200 0.452701 -13 1005 1 0 1
30 7.5 120 0 0 200 0.452701 -13 1006 1 0 1
30 15 120 0 0 200 0.452701 -13 1007 1 0 1
30 22.5 120 0 0 200 0.452701 -13 1008 1 0 1
30 30 120 0 0 200 0.452701 -13 1009 1 0 1
30 37.5 120 0 0 200 0.452701 -13 1010 1 0 1
30 45 120 0 0 200 0.452701 -13 1011 1 0 1
30 52.5 120 0 0 200 0.452701 -13 1012 1 0 1
30 60 120 0 0 200 0.452701 -13 1013 1 0 1
30 67.5 120 0 0 200 0.452701 -13 1014 1 0 1
30 75 120 0 0 200 0.452701 -13 1015 1 0 1
30 82.5 120 0 0 200 0.452701 -13 1016 1 0 1
30 90 120 0 0 200 0.452701 -13 1017 1 0 1
30 97.5 120 0 0 200 0.452701 -13 1018 1 0 1
37.5 0 112.5 0 0 200 0.424407 -13 1046 1 0 1
37.5 7.5 112.5 0 0 200 0.424407 -13 1047 1 0 1
37.5 15 112.5 0 0 200 0.424407 -13 1048 1 0 1
37.5 22.5 112.5 0 0 200 0.424407 -13 1049 1 0 1
37.5 30 112.5 0 0 200 0.424407 -13 1050 1 0 1
37.5 37.5 112.5 0 0 200 0.424407 -13 1051 1 0 1
37.5 45 112.5 0 0 200 0.424407 -13 1052 1 0 1
37.5 52.5 112.5 0 0 200 0.424407 -13 1053 1 0 1
37.5 60 112.5 0 0 200 0.424407 -13 1054 1 0 1
37.5 67.5 112.5 0 0 200 0.424407 -13 1055 1 0 1
37.5 75 112.5 0 0 200 0.424407 -13 1056 1 0 1
37.5 82.5 112.5 0 0 200 0.424407 -13 1057 1 0 1
37.5 90 112.5 0 0 200 0.424407 -13 1058 1 0 1
37.5 97.5 112.5 0 0 200 0.424407 -13 1059 1 0 1
45 0 105 0 0 200 0.396113 -13 1087 1 0 1
45 7.5 105 0 0 200 0.396113 -13 1088 1 0 1
45 15 105 0 0 200 0.396113 -13 1089 1 0 1
45 22.5 105 0 0 200 0.396113 -13 1090 1 0 1
45 30 105 0 0 200 0.396113 -13 1091 1 0 1
45 37.5 105 0 0 200 0.396113 -13 1092 1 0 1
45 45 105 0 0 200 0.396113 -13 1093 1 0 1
45 52.5 105 0 0 200 0.396113 -13 1094 1 0 1
45 60 105 0 0 200 0.396113 -13 1095 1 0 1
45 67.5 105 0 0 200 0.396113 -13 1096 1 0 1
45 75 105 0 0 200 0.396113 -13 1097 1 0 1
45 82.5 105 0 0 200 0.396113 -13 1098 1 0 1
45 90 105 0 0 200 0.396113 -13 1099 1 0 1
45 97.5 105 0 0 200 0.396113 -13 1100 1 0 1
52.5 0 97.5 0 0 200 0.36782 -13 1128 1 0 1
52.5 7.5 97.5 0 0 200 0.36782 -13 1129 1 0 1
52.5 15 97.5 0 0 200 0.36782 -13 1130 1 0 1
52.5 22.5 97.5 0 0 200 0.36782 -13 1131 1 0 1
52.5 30 97.5 0 0 200 0.36782 -13 1132 1 0 1
52.5 37.5 97.5 0 0 200 0.36782 -13 1133 1 0 1
52.5 45 97.5 0 0 200 0.36782 -13 1134 1 0 1
52.5 52.5 97.5 0 0 200 0.36782 -13 1135 1 0 1
52.5 60 97.5 0 0 200 0.36782 -13 1136 1 0 1
52.5 67.5 97.5 0 0 200 0.36782 -13 1137 1 0 1
52.5 75 97.5 0 0 200 0.36782 -13 1138 1 0 1
52.5 82.5 97.5 0 0 200 0.36782 -13 1139 1 0 1
52.5 90 97.5 0 0 200 0.36782 -13 1140 1 0 1
52.5 97.5 97.5 0 0 200 0.36782 -13 1141 1 0 1
60 0 90 0 0 200 0.339526 -13 1169 1 0 1
60 7.5 90 0 0 200 0.339526 -13 1170 1 0 1
60 15 90 0 0 200 0.339526 -13 1171 1 0 1
60 22.5 90 0 0 200 0.339526 -13 1172 1 0 1
60 30 90 0 0 200 0.339526 -13 1173 1 0 1
60 37.5 90 0 0 200 0.339526 -13 1174 1 0 1
60 45 90 0 0 200 0.339526 -13 1175 1 0 1
60 52.5 90 0 0 200 0.339526 -13 1176 1 0 1
60 60 90 0 0 200 0.339526 -13 1177 1 0 1
60 67.5 90 0 0 200 0.339526 -13 1178 1 0 1
60 75 90 0 0 200 0.339526 -13 1179 1 0 1
60 82.5 90 0 0 200 0.339526 -13 1180 1 0 1
60 90 90 0 0 200 0.339526 -13 1181 1 0 1
60 97.5 90 0 0 200 0.339526 -13 1182 1 0 1
67.5 0 82.5 0 0 200 0.311232 -13 1210 1 0 1
67.5 7.5 82.5 0 0 200 0.311232 -13 1211 1 0 1
67.5 15 82.5 0 0 200 0.311232 -13 1212 1 0 1
67.5 22.5 82.5 0 0 200 0.311232 -13 1213 1 0 1
67.5 30 82.5 0 0 200 0.311232 -13 1214 1 0 1
67.5 37.5 82.5 0 0 200 0.311232 -13 1215 1 0 1
67.5 45 82.5 0 0 200 0.311232 -13 1216 1 0 1
67.5 52.5 82.5 0 0 200 0.311232 -13 1217 1 0 1
67.5 60 82.5 0 0 200 0.311232 -13 1218 1 0 1
67.5 67.5 82.5 0 0 200 0.311232 -13 1219 1 0 1
67.5 75 82.5 0 0 200 0.311232 -13 1220 1 0 1
67.5 82.5 82.5 0 0 200 0.311232 -13 1221 1 0 1
67.5 90 82.5 0 0 200 0.311232 -13 1222 1 0 1
67.5 97.5 82.5 0 0 200 0.311232 -13 1223 1 0 1
=compare Sample.txt test109.good .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1
=testbeam beam -150 150 41 -150 150 41 0 -13 200000
=file test109.in
beam ascii file=beam
sample Sample format=ascii radius=100 coordinates=global polygon=0,0;100,0;100,100;0,100;-100,-100;0,-100 require="Pz<201"
place Sample z=150 rotation=Y45
box end height=1000 width=1000 length=1 color=invisible
place end z=1000
=run g4bl test109.in
# the require parameter omitted all the new testbeam
=compare Sample.txt test109.good .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1 .1
